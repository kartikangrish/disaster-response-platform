{"ast":null,"code":"var _jsxFileName = \"/Users/kartik.angrish/citymall/client/src/pages/CreateDisaster.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AlertTriangle, MapPin, Save, ArrowLeft } from 'lucide-react';\nimport { AuthContext } from '../context/AuthContext';\nimport toast from 'react-hot-toast';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateDisaster = () => {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [extractingLocation, setExtractingLocation] = useState(false);\n  const [formData, setFormData] = useState({\n    title: '',\n    location_name: '',\n    description: '',\n    tags: []\n  });\n  const [errors, setErrors] = useState({});\n  const availableTags = ['flood', 'earthquake', 'fire', 'hurricane', 'tornado', 'tsunami', 'volcano', 'drought', 'landslide', 'avalanche', 'urgent', 'high', 'medium', 'low', 'evacuation', 'shelter', 'medical', 'food', 'water', 'power', 'communication', 'transportation'];\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n  const handleTagToggle = tag => {\n    setFormData(prev => ({\n      ...prev,\n      tags: prev.tags.includes(tag) ? prev.tags.filter(t => t !== tag) : [...prev.tags, tag]\n    }));\n  };\n  const extractLocation = async () => {\n    if (!formData.description) {\n      toast.error('Please provide a description first');\n      return;\n    }\n    setExtractingLocation(true);\n    try {\n      const response = await axios.post('/api/geocoding/extract', {\n        description: formData.description\n      }, {\n        headers: {\n          'x-user-id': user.id\n        }\n      });\n      const extractedLocation = response.data.result.location;\n      if (extractedLocation && extractedLocation !== 'Unknown location') {\n        setFormData(prev => ({\n          ...prev,\n          location_name: extractedLocation\n        }));\n        toast.success(`Location extracted: ${extractedLocation}`);\n      } else {\n        toast.error('Could not extract location from description');\n      }\n    } catch (error) {\n      console.error('Error extracting location:', error);\n      toast.error('Failed to extract location');\n    } finally {\n      setExtractingLocation(false);\n    }\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.title.trim()) {\n      newErrors.title = 'Title is required';\n    }\n    if (!formData.description.trim()) {\n      newErrors.description = 'Description is required';\n    }\n    if (formData.description.length < 10) {\n      newErrors.description = 'Description must be at least 10 characters';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axios.post('/api/disasters', formData, {\n        headers: {\n          'x-user-id': user.id\n        }\n      });\n      toast.success('Disaster created successfully!');\n      navigate(`/disasters/${response.data.disaster.id}`);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error creating disaster:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to create disaster';\n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/disasters'),\n        className: \"btn btn-secondary\",\n        children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), \"Back to Disasters\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900\",\n          children: \"Create Disaster Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Report a new disaster with location and details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"card-title flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n                size: 20,\n                className: \"text-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), \"Disaster Information\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Title *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              value: formData.title,\n              onChange: handleInputChange,\n              placeholder: \"e.g., NYC Flood Emergency\",\n              className: `form-input ${errors.title ? 'border-red-500' : ''}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), errors.title && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-error\",\n              children: errors.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Description *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"description\",\n              value: formData.description,\n              onChange: handleInputChange,\n              placeholder: \"Provide detailed description of the disaster...\",\n              className: `form-textarea ${errors.description ? 'border-red-500' : ''}`,\n              rows: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), errors.description && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-error\",\n              children: errors.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 mt-1\",\n              children: [formData.description.length, \"/1000 characters\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"location_name\",\n                value: formData.location_name,\n                onChange: handleInputChange,\n                placeholder: \"e.g., Manhattan, NYC\",\n                className: \"form-input flex-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: extractLocation,\n                disabled: extractingLocation || !formData.description,\n                className: \"btn btn-secondary\",\n                children: [extractingLocation ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"spinner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(MapPin, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 21\n                }, this), \"Extract\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 mt-1\",\n              children: \"Leave empty to extract from description, or specify manually\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Tags\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-3 border rounded-lg\",\n              children: availableTags.map(tag => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center gap-2 cursor-pointer\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: formData.tags.includes(tag),\n                  onChange: () => handleTagToggle(tag),\n                  className: \"rounded\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm\",\n                  children: tag\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this)]\n              }, tag, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 mt-1\",\n              children: \"Select relevant tags to categorize the disaster\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading,\n              className: \"btn btn-success flex-1\",\n              children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Save, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this), \"Create Disaster\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => navigate('/disasters'),\n              className: \"btn btn-secondary\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"card-title\",\n              children: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Title:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: formData.title || 'Not specified'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Location:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: formData.location_name || 'Will be extracted'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Tags:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-1 mt-1\",\n                children: formData.tags.length > 0 ? formData.tags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge badge-info\",\n                  children: tag\n                }, tag, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 23\n                }, this)) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500 text-sm\",\n                  children: \"No tags selected\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"card-title\",\n              children: \"Tips\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 Include specific location details in the description for better location extraction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 Use relevant tags to help with categorization and filtering\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 Mark as \\\"urgent\\\" for immediate attention disasters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 Provide detailed descriptions for better resource allocation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"card-title\",\n              children: \"User Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"User:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 18\n              }, this), \" \", user.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Role:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 18\n              }, this), \" \", user.role]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Created:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 18\n              }, this), \" \", new Date().toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateDisaster, \"5az2iikSuvKdC5GhxtSI3yDV4/Q=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateDisaster;\nexport default CreateDisaster;\nvar _c;\n$RefreshReg$(_c, \"CreateDisaster\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","AlertTriangle","MapPin","Save","ArrowLeft","AuthContext","toast","axios","jsxDEV","_jsxDEV","CreateDisaster","_s","user","navigate","loading","setLoading","extractingLocation","setExtractingLocation","formData","setFormData","title","location_name","description","tags","errors","setErrors","availableTags","handleInputChange","e","name","value","target","prev","handleTagToggle","tag","includes","filter","t","extractLocation","error","response","post","headers","id","extractedLocation","data","result","location","success","console","validateForm","newErrors","trim","length","Object","keys","handleSubmit","preventDefault","disaster","_error$response","_error$response$data","errorMessage","children","className","onClick","size","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","placeholder","rows","disabled","map","checked","role","Date","toLocaleDateString","_c","$RefreshReg$"],"sources":["/Users/kartik.angrish/citymall/client/src/pages/CreateDisaster.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AlertTriangle, MapPin, Save, ArrowLeft } from 'lucide-react';\nimport { AuthContext } from '../context/AuthContext';\nimport toast from 'react-hot-toast';\nimport axios from 'axios';\n\nconst CreateDisaster = () => {\n  const { user } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [extractingLocation, setExtractingLocation] = useState(false);\n  const [formData, setFormData] = useState({\n    title: '',\n    location_name: '',\n    description: '',\n    tags: []\n  });\n  const [errors, setErrors] = useState({});\n\n  const availableTags = [\n    'flood', 'earthquake', 'fire', 'hurricane', 'tornado', 'tsunami',\n    'volcano', 'drought', 'landslide', 'avalanche', 'urgent', 'high',\n    'medium', 'low', 'evacuation', 'shelter', 'medical', 'food',\n    'water', 'power', 'communication', 'transportation'\n  ];\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const handleTagToggle = (tag) => {\n    setFormData(prev => ({\n      ...prev,\n      tags: prev.tags.includes(tag)\n        ? prev.tags.filter(t => t !== tag)\n        : [...prev.tags, tag]\n    }));\n  };\n\n  const extractLocation = async () => {\n    if (!formData.description) {\n      toast.error('Please provide a description first');\n      return;\n    }\n\n    setExtractingLocation(true);\n    try {\n      const response = await axios.post('/api/geocoding/extract', {\n        description: formData.description\n      }, {\n        headers: { 'x-user-id': user.id }\n      });\n\n      const extractedLocation = response.data.result.location;\n      if (extractedLocation && extractedLocation !== 'Unknown location') {\n        setFormData(prev => ({\n          ...prev,\n          location_name: extractedLocation\n        }));\n        toast.success(`Location extracted: ${extractedLocation}`);\n      } else {\n        toast.error('Could not extract location from description');\n      }\n    } catch (error) {\n      console.error('Error extracting location:', error);\n      toast.error('Failed to extract location');\n    } finally {\n      setExtractingLocation(false);\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!formData.title.trim()) {\n      newErrors.title = 'Title is required';\n    }\n\n    if (!formData.description.trim()) {\n      newErrors.description = 'Description is required';\n    }\n\n    if (formData.description.length < 10) {\n      newErrors.description = 'Description must be at least 10 characters';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!validateForm()) {\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post('/api/disasters', formData, {\n        headers: { 'x-user-id': user.id }\n      });\n\n      toast.success('Disaster created successfully!');\n      navigate(`/disasters/${response.data.disaster.id}`);\n    } catch (error) {\n      console.error('Error creating disaster:', error);\n      const errorMessage = error.response?.data?.error || 'Failed to create disaster';\n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"flex items-center gap-4 mb-6\">\n        <button\n          onClick={() => navigate('/disasters')}\n          className=\"btn btn-secondary\"\n        >\n          <ArrowLeft size={16} />\n          Back to Disasters\n        </button>\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Create Disaster Report</h1>\n          <p className=\"text-gray-600\">Report a new disaster with location and details</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <div className=\"lg:col-span-2\">\n          <form onSubmit={handleSubmit} className=\"card\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title flex items-center gap-2\">\n                <AlertTriangle size={20} className=\"text-red-500\" />\n                Disaster Information\n              </h3>\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">Title *</label>\n              <input\n                type=\"text\"\n                name=\"title\"\n                value={formData.title}\n                onChange={handleInputChange}\n                placeholder=\"e.g., NYC Flood Emergency\"\n                className={`form-input ${errors.title ? 'border-red-500' : ''}`}\n              />\n              {errors.title && <div className=\"form-error\">{errors.title}</div>}\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">Description *</label>\n              <textarea\n                name=\"description\"\n                value={formData.description}\n                onChange={handleInputChange}\n                placeholder=\"Provide detailed description of the disaster...\"\n                className={`form-textarea ${errors.description ? 'border-red-500' : ''}`}\n                rows={4}\n              />\n              {errors.description && <div className=\"form-error\">{errors.description}</div>}\n              <div className=\"text-sm text-gray-500 mt-1\">\n                {formData.description.length}/1000 characters\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">Location</label>\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  name=\"location_name\"\n                  value={formData.location_name}\n                  onChange={handleInputChange}\n                  placeholder=\"e.g., Manhattan, NYC\"\n                  className=\"form-input flex-1\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={extractLocation}\n                  disabled={extractingLocation || !formData.description}\n                  className=\"btn btn-secondary\"\n                >\n                  {extractingLocation ? (\n                    <div className=\"spinner\"></div>\n                  ) : (\n                    <MapPin size={16} />\n                  )}\n                  Extract\n                </button>\n              </div>\n              <div className=\"text-sm text-gray-500 mt-1\">\n                Leave empty to extract from description, or specify manually\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">Tags</label>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-3 border rounded-lg\">\n                {availableTags.map(tag => (\n                  <label key={tag} className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.tags.includes(tag)}\n                      onChange={() => handleTagToggle(tag)}\n                      className=\"rounded\"\n                    />\n                    <span className=\"text-sm\">{tag}</span>\n                  </label>\n                ))}\n              </div>\n              <div className=\"text-sm text-gray-500 mt-1\">\n                Select relevant tags to categorize the disaster\n              </div>\n            </div>\n\n            <div className=\"flex gap-4\">\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"btn btn-success flex-1\"\n              >\n                {loading ? (\n                  <div className=\"spinner\"></div>\n                ) : (\n                  <Save size={16} />\n                )}\n                Create Disaster\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => navigate('/disasters')}\n                className=\"btn btn-secondary\"\n              >\n                Cancel\n              </button>\n            </div>\n          </form>\n        </div>\n\n        <div className=\"space-y-6\">\n          {/* Preview */}\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title\">Preview</h3>\n            </div>\n            <div className=\"space-y-3\">\n              <div>\n                <strong>Title:</strong>\n                <p className=\"text-gray-600\">{formData.title || 'Not specified'}</p>\n              </div>\n              <div>\n                <strong>Location:</strong>\n                <p className=\"text-gray-600\">{formData.location_name || 'Will be extracted'}</p>\n              </div>\n              <div>\n                <strong>Tags:</strong>\n                <div className=\"flex flex-wrap gap-1 mt-1\">\n                  {formData.tags.length > 0 ? (\n                    formData.tags.map(tag => (\n                      <span key={tag} className=\"badge badge-info\">{tag}</span>\n                    ))\n                  ) : (\n                    <span className=\"text-gray-500 text-sm\">No tags selected</span>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Tips */}\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title\">Tips</h3>\n            </div>\n            <div className=\"space-y-2 text-sm text-gray-600\">\n              <p>• Include specific location details in the description for better location extraction</p>\n              <p>• Use relevant tags to help with categorization and filtering</p>\n              <p>• Mark as \"urgent\" for immediate attention disasters</p>\n              <p>• Provide detailed descriptions for better resource allocation</p>\n            </div>\n          </div>\n\n          {/* User Info */}\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title\">User Information</h3>\n            </div>\n            <div className=\"space-y-2 text-sm\">\n              <p><strong>User:</strong> {user.id}</p>\n              <p><strong>Role:</strong> {user.role}</p>\n              <p><strong>Created:</strong> {new Date().toLocaleDateString()}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateDisaster; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}